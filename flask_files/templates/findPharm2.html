<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>약국 DB에 표시</title>
</head>
<body>
    <h1></h1>
    <form name="input" method="POST" action="/findPharmacy">
        <input type="text" id="pharmName" name="pharmName" /required>
        <input type="submit" value="검색">
    </form>
    <h1 id="afterClick">약국 DB에 표시</h1>
    {% block content %}
        {% for pharmacy in pharmacy%}
            <div class='medi'>
                <p id="pharmacy{{pharmacy[0]}}">이름 : {{pharmacy[4]}}  // 주소 : {{pharmacy[3]}} </p>
            </div>
            <script>
                document.getElementById("pharmacy{{pharmacy[0]}}").addEventListener("click", () =>{
                    opener.document.getElementById("pharmName").value = "{{pharmacy[4]}}";
                    window.close();
                })
            </script>
        {% endfor %}
    {% endblock %}
    <p>혹시 해당 약국이 없으신가요?</p>
    <input type="text" id="newName">
    <input type="submit" value="입력" id="newClick">
    <script>
        document.getElementById("newClick").addEventListener("click", () => {
            opener.document.getElementById("pharmName").value = document.getElementById("newName").value;
            window.close();
        })
    </script>
</body>
</html>